{"version":3,"sources":["images/logo_header.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","utils/auth.js","components/Login.js","components/Register.js","images/approved.svg","images/error.svg","components/InfoTooltip.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","to","src","logo","alt","path","email","onClick","onSignOut","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","onCardClick","type","onCardDelete","aria-label","onCardLike","length","Main","style","backgroundImage","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","Footer","PopupWithForm","isOpen","onSubmit","decoration","title","children","text","onClose","ImagePopup","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","id","placeholder","value","onChange","target","minLength","maxLength","required","EditAvatarPopup","refAvatar","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","api","options","this","_url","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","then","_getResponseData","data","method","body","JSON","stringify","cardId","addLikes","deleteLike","authorization","BASE_URL","checkResponse","Login","onLogin","password","setData","handleChange","Register","onRegister","InfoTooltip","img","approvedImg","errorImg","ProtectedRoute","Component","component","loggedIn","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","isInfoTooltip","setIsInfoTooltip","setLoggedIn","history","useHistory","isInfoTooltipStatus","setIsInfoTooltipStatus","getUserInfo","userInfo","catch","err","console","log","getInitialCards","initialCards","handleOpenInfoTooltip","closeAllPopups","handleTokenCheck","token","jwt","localStorage","getItem","push","Provider","removeItem","exact","changeLikeCardStatus","newCard","state","c","deleteCard","filter","auth","setItem","editUserInfo","addCard","addAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3492352b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo_header.03b78ada.svg\";","import React from 'react';\nimport { Link, Route, Switch } from 'react-router-dom';\nimport logo from '../images/logo_header.svg';\n\nfunction Header(props) {\n    return (\n        <header className=\"header\">\n            <Link to=\"/\" className=\"header__logo-link\" >\n                <img src={logo} alt=\"Место Россиия\" className=\"header__logo\" />\n            </Link>\n            <div className=\"header__box\">\n            <Switch>\n                <Route path=\"/sign-up\">\n                    <Link className=\"header__link\" to=\"/sign-in\">Вход</Link>\n                </Route>\n                <Route path=\"/sign-in\">\n                    <Link className=\"header__link\" to=\"/sign-up\">Регистрация</Link>\n                </Route>\n                <Route path=\"/\">\n                <p className=\"header__link-email\">{props.email}</p>\n                <Link className=\"header__link header__link_state\" to=\"/\" onClick={props.onSignOut}>Выйти</Link>\n                    </Route>\n            </Switch>\n            </div>\n        </header>\n    );\n}\n\nexport default Header","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React, { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n    const currentUser = useContext(CurrentUserContext);\n\n    function handleClick() {\n        props.onCardClick(props.card);\n    }\n\n    const isOwn = props.card.owner._id === currentUser._id;\n\n    const cardDeleteButtonClassName = (\n        `elements__delete-button ${isOwn ? '' : 'elements__delete-button_hidden'}`\n    );\n\n    function handleDeleteClick() {\n        props.onCardDelete(props.card);\n    }\n\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n\n    const cardLikeButtonClassName = (\n        `elements__button ${isLiked ? `elements__button_active` : ``}`\n    );\n\n    function handleLikeClick() {\n        props.onCardLike(props.card);\n    }\n\n    return (\n        <article className=\"elements__box\">\n            <img src={props.card.link} alt={props.card.name} onClick={handleClick} className=\"elements__photo\" />\n            <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick} aria-label=\"Удалить карточку\"></button>\n            <div className=\"elements__footer\">\n                <h3 className=\"elements__text\">{props.card.name}</h3>\n                <div className=\"elements__like-block\">\n                    <button type=\"button\" className={cardLikeButtonClassName} aria-label=\"Лайк\" onClick={handleLikeClick}></button>\n                    <p className=\"elements__likes-counter\">{props.card.likes.length}</p>\n                </div>\n            </div>\n        </article>\n    );\n}\n\nexport default Card","import React, { useContext } from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n    const currentUser = useContext(CurrentUserContext);\n\n    return (\n        <main className=\"content\">\n            <section className=\"profile\">\n                <div className=\"profile__img\">\n                    <div style={{ backgroundImage: `url(${currentUser.avatar})` }} alt=\"Аватарка профиля\" className=\"profile__photo\"></div>\n                    <button type=\"button\" className=\"profile__edit-photo-button\" aria-label=\"Редактировать аватарку\" onClick={props.onEditAvatar}></button>\n                </div>\n                <div className=\"profile__account\">\n                    <div className=\"profile__name\">\n                        <h1 className=\"profile__name-text\">{currentUser.name}</h1>\n                        <button type=\"button\" className=\"profile__edit-button\" aria-label=\"Редактировать профиль\" onClick={props.onEditProfile}></button>\n                    </div>\n                    <p className=\"profile__description\">{currentUser.about}</p>\n                </div>\n                <button type=\"button\" className=\"profile__add-button\" aria-label=\"Добавить карточку\" onClick={props.onAddPlace}></button>\n            </section>\n            <section className=\"elements\">\n                {props.cards.map((card) => (\n                    <Card\n                        card={card}\n                        key={card._id}\n                        onCardClick={props.onCardClick}\n                        onCardLike={props.onCardLike}\n                        onCardDelete={props.onCardDelete}\n                    />\n                ))}\n            </section>\n        </main>\n    );\n}\n\nexport default Main","import React from 'react';\n\nfunction Footer() {\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\n        </footer>\n    );\n}\n\nexport default Footer","import React from 'react';\n\nfunction PopupWithForm(props) {\n    return (\n        <article className={`popup popup_type_${props.name} ${props.isOpen && 'popup_opened'}`}>\n            <form name={`${props.name}`} className=\"popup__container\" onSubmit={props.onSubmit}>\n                <h2 className={`popup__container-name ${props.decoration}`}>{props.title}</h2>\n                {props.children}\n                <button type=\"submit\" className=\"popup__container-submit-button popup__container-submit-button\" >{props.text}</button>\n                <button name=\"close-form\" type=\"button\" className=\"popup__container-close-button\" aria-label=\"Закрыть форму\" onClick={props.onClose}></button>\n            </form>\n        </article>\n    );\n}\n\nexport default PopupWithForm","import React from 'react';\n\nfunction ImagePopup(props) {\n    return (\n        <article className={`popup popup_type_show-image ${props.card.link ? 'popup_opened' : ''}`}>\n            <form name=\"image-form\" className=\"popup__container popup__container_style-edition\">\n                <figure className=\"popup__container-image-block\">\n                    <img src={`${props.card.link}`} alt={props.card.name} className=\"popup__container-image\" />\n                    <figcaption className=\"popup__container-text\">{props.card.name}</figcaption>\n                </figure>\n                <button name=\"close-image\" type=\"button\" className=\"popup__container-close-button\" aria-label=\"Закрыть картинку\" onClick={props.onClose}></button>\n            </form>\n        </article>\n    );\n}\n\nexport default ImagePopup","import React, { useState, useContext } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n    const [name, setName] = useState('');\n    const [description, setDescription] = useState('');\n\n    function handleChangeName(e) {\n        setName(e.target.value);\n    }\n\n    function handleChangeDescription(e) {\n        setDescription(e.target.value);\n    }\n\n    const currentUser = useContext(CurrentUserContext);\n\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser, props.isOpen]);\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        props.onUpdateUser({\n            name,\n            about: description,\n        });\n    }\n\n    return (\n        <PopupWithForm name=\"edit-form\" title=\"Редактировать профиль\" text=\"Сохранить\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n            <input id=\"name-input\" type=\"text\" name=\"name\" placeholder=\"Имя\" value={name || ''} onChange={handleChangeName} className=\"popup__container-input\" minLength=\"2\" maxLength=\"40\" required />\n            <span className=\"name-input-error popup__container-input-error\"></span>\n            <input id=\"job-input\" type=\"text\" name=\"about\" placeholder=\"Вид деятельности\" value={description || ''} onChange={handleChangeDescription} className=\"popup__container-input\" minLength=\"2\" maxLength=\"200\" required />\n            <span className=\"job-input-error popup__container-input-error\"></span>\n        </PopupWithForm>\n    )\n};\n\nexport default EditProfilePopup;","import React, { useRef } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n    const refAvatar = useRef('')\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        props.onUpdateAvatar({\n            avatar: refAvatar.current.value,\n        });\n    }\n\n    return (\n        <PopupWithForm name=\"ava-form\" title=\"Обновить аватар\" decoration=\"popup__container-name_style-edition\" text=\"Сохранить\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n            <input ref={refAvatar} id=\"ava-url-input\" type=\"url\" name=\"link\" placeholder=\"Ссылка на аватарку\" className=\"popup__container-input popup__container-input_style-edition\" required />\n            <span className=\"ava-url-input-error popup__container-input-error popup__container-input-error_style-edition\"></span>\n        </PopupWithForm>\n    )\n}\n\nexport default EditAvatarPopup;","import React, { useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n    const [name, setName] = useState('');\n    const [link, setLink] = useState('');\n\n    function handleChangeName(e) {\n        setName(e.target.value)\n    }\n\n    function handleChangeLink(e) {\n        setLink(e.target.value)\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        props.onAddPlace({\n            name,\n            link\n        });\n    }\n\n    return (\n        <PopupWithForm name=\"add-form\" title=\"Новое место\" text=\"Создать\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n            <input id=\"new-name-input\" type=\"text\" name=\"name\" placeholder=\"Название\" value={name || ''} onChange={handleChangeName} className=\"popup__container-input\" minLength=\"2\" maxLength=\"30\" required />\n            <span className=\"new-name-input-error popup__container-input-error\"></span>\n            <input id=\"url-input\" type=\"url\" name=\"link\" placeholder=\"Ссылка на картинку\" value={link || ''} onChange={handleChangeLink} className=\"popup__container-input\" required />\n            <span className=\"url-input-error popup__container-input-error\"></span>\n        </PopupWithForm>\n    )\n}\n\nexport default AddPlacePopup","class Api {\n    constructor(options) {\n        this._url = options.baseUrl;\n        this._headers = options.headers;\n    }\n\n    _getResponseData(res) {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(`Ошибка ${res.status}`);\n    }\n\n    getInitialCards() {\n        return fetch(`${this._url}/cards`, {\n            headers: this._headers\n        })\n            .then(this._getResponseData);\n    }\n\n    getUserInfo() {\n        return fetch(`${this._url}/users/me`, {\n            headers: this._headers\n        })\n            .then(this._getResponseData);\n    }\n\n    editUserInfo(data) {\n        return fetch(`${this._url}/users/me`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: data.name,\n                about: data.about\n            })\n        })\n            .then(this._getResponseData);\n    }\n\n    addCard(data) {\n        return fetch(`${this._url}/cards`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: data.name,\n                link: data.link\n            })\n        })\n            .then(this._getResponseData);\n    }\n\n    deleteCard(cardId) {\n        return fetch(`${this._url}/cards/${cardId}`, {\n            method: 'DELETE',\n            headers: this._headers\n        })\n            .then(this._getResponseData);\n    }\n\n    addLikes(cardId) {\n        return fetch(`${this._url}/cards/likes/${cardId}`, {\n            method: 'PUT',\n            headers: this._headers\n        })\n            .then(this._getResponseData);\n    }\n\n    deleteLike(cardId) {\n        return fetch(`${this._url}/cards/likes/${cardId}`, {\n            method: 'DELETE',\n            headers: this._headers\n        })\n            .then(this._getResponseData);\n    }\n\n    changeLikeCardStatus(cardId, isLiked) {\n        if (!isLiked) {\n            return this.deleteLike(cardId);\n        } else {\n            return this.addLikes(cardId);\n        }\n    }\n\n    addAvatar(data) {\n        return fetch(`${this._url}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                avatar: data.avatar\n            })\n        })\n            .then(this._getResponseData);\n    }\n\n}\n\nconst api = new Api({\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-24',\n    headers: {\n        authorization: '3ecdcc3b-e37c-4bc7-86dd-3dd41d1fe90d',\n        'Content-Type': 'application/json'\n    }\n});\n\nexport default api","export const BASE_URL = 'https://auth.nomoreparties.co';\n\nconst checkResponse = (res) => {\n    if (res.ok) {\n        return res.json();\n    }\n    return Promise.reject(`Ошибка ${res.status}`);\n}\n\nexport const register = ({ email, password }) => {\n    return fetch(`${BASE_URL}/signup`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ email, password })\n    })\n        .then(checkResponse);\n\n};\nexport const authorize = ({ email, password }) => {\n    return fetch(`${BASE_URL}/signin`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ email, password })\n    })\n        .then(checkResponse)\n};\n\nexport const getContent = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n        method: 'GET',\n        headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`,\n        }\n    })\n        .then(checkResponse)\n}","import React, { useState } from 'react';\n\nfunction Login({ onLogin }) {\n    const [data, setData] = useState({\n        email: \"\",\n        password: \"\",\n    });\n\n    function handleChange(e) {\n        const { name, value } = e.target;\n        setData({\n            ...data,\n            [name]: value,\n        });\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        const { email, password } = data;\n        onLogin({ email, password })\n    }\n\n    return (\n        <form name=\"login-form\" className=\"verification\" onSubmit={handleSubmit}>\n            <h2 className=\"verification__title\">Вход</h2>\n            <input value={data.email || ''} onChange={handleChange} id=\"email\" type=\"email\" name=\"email\" placeholder=\"Email\" className=\"verefication__input\" minLength=\"2\" maxLength=\"40\" required />\n            <input value={data.password || ''} onChange={handleChange} id=\"password\" type=\"password\" name=\"password\" placeholder=\"Пароль\" className=\"verefication__input\" minLength=\"2\" maxLength=\"200\" required />\n            <button type=\"submit\" className=\"verefication__submit-button\" >Войти</button>\n        </form>\n    );\n}\n\nexport default Login;","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Register({ onRegister }) {\n    const [data, setData] = useState ({\n        email: \"\",\n        password: \"\",\n    });\n\n    function handleChange(e) {\n        const { name, value } = e.target;\n        setData({\n            ...data,\n            [name]: value,\n        });\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        const { email, password } = data;\n        onRegister({ email, password })\n    }\n    \n    return (\n        <form onSubmit={handleSubmit} name=\"login-form\" className=\"verification\">\n            <h2 className=\"verification__title\">Регистрация</h2>\n            <input value={data.email || ''} onChange={handleChange} id=\"email\" type=\"email\" name=\"email\" placeholder=\"Email\" className=\"verefication__input\" minLength=\"2\" maxLength=\"40\" required />\n            <input value={data.password || ''} onChange={handleChange}  id=\"password\" type=\"password\" name=\"password\" placeholder=\"Пароль\" className=\"verefication__input\" minLength=\"2\" maxLength=\"200\" required />\n            <button type=\"submit\" className=\"verefication__submit-button\">Зарегистрироваться</button>\n            <p className=\"verefication__footer\">Уже зарегистрированы? <Link to=\"/sign-in\" className=\"verefication__footer-link\" >Войти</Link></p>\n        </form>\n    );\n}\n\nexport default Register;","export default __webpack_public_path__ + \"static/media/approved.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/error.df8eddf6.svg\";","import React from 'react';\nimport approvedImg from '../images/approved.svg';\nimport errorImg from '../images/error.svg';\n\nfunction InfoTooltip(props) {\n    return (\n        <article className={`popup ${props.isOpen && 'popup_opened'}`}>\n            <div className=\"popup__container popup__container_style-info\">\n                <img className=\"popup__container-info-image\" src={props.img === true ? approvedImg : errorImg} alt={props.title}/>\n                <h2 className=\"popup__container-name popup__container-name_style-info\">{props.title}</h2>\n                <button name=\"close-form\" type=\"button\" className=\"popup__container-close-button\" aria-label=\"Закрыть форму\" onClick={props.onClose}></button>\n            </div>\n        </article>\n    );\n}\n\nexport default InfoTooltip;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n    return (\n        <Route>\n            {() =>\n            props.loggedIn === true ? <Component {...props} /> : <Redirect to='./sign-in' />\n            }\n        </Route>\n    );\n};\n\nexport default ProtectedRoute;","import React, { useState, useEffect } from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport api from '../utils/api';\nimport * as auth from '../utils/auth';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport Login from './Login';\nimport Register from './Register';\nimport InfoTooltip from './InfoTooltip';\nimport ProtectedRoute from './ProtectedRoute';\n\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({ name: '', link: '' });\n\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n\n  const [isInfoTooltip, setIsInfoTooltip] = useState(false);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [data, setData] = useState({ email: ''});\n  const history = useHistory();\n  const [isInfoTooltipStatus, setIsInfoTooltipStatus] = useState({\n    title: \"Что-то пошло не так! Попробуйте ещё раз.\",\n    img: false,\n  });\n\n  useEffect(() => {\n    api.getUserInfo()\n      .then((userInfo) => {\n        setCurrentUser(userInfo);\n      })\n      .catch((err) => console.log(err));\n\n    api.getInitialCards()\n      .then((initialCards) => {\n        setCards(initialCards)\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card)\n  }\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true)\n  }\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true)\n  }\n\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true)\n  }\n\n  const handleOpenInfoTooltip = () => {\n    setIsInfoTooltip(true);\n  }\n\n\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsInfoTooltip(false);\n    setSelectedCard({ name: '', link: '' });\n  }\n\n  const handleUpdateUser = (data) => {\n    api.editUserInfo(data)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  const handleUpdateAvatar = (data) => {\n    api.addAvatar(data)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n      .then(() => {\n        setCards((cards) => cards.filter((c) => c._id !== card._id));\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleAddPlaceSubmit(data) {\n    api.addCard(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleLogin(email, password) {\n    auth.authorize(email, password)\n      .then((res) => {\n        if (res.token) {\n          localStorage.setItem('jwt', res.token);\n          setData(email);\n          setLoggedIn(true);\n          history.push('/');\n        }\n      })\n      .catch((err) => console.log(err));\n  };\n\n  function handleRegister(email, password) {\n    auth.register(email, password)\n      .then(() => {\n        handleOpenInfoTooltip()\n        setIsInfoTooltipStatus({ title: \"Вы успешно зарегистрировались!.\", img: true })\n        history.push('/sign-in')\n      })\n      .catch((err) => {\n        handleOpenInfoTooltip()\n        console.log(err);\n      })\n  }\n\n  function handleTokenCheck() {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      auth.getContent(jwt)\n        .then((res) => {\n          setData({ email: res.data.email})\n          setLoggedIn(true)\n          history.push(\"/\");\n        })\n        .catch(err => console.log(err));\n    };\n  };\n\n  useEffect(() => {\n    handleTokenCheck();\n  }, []);\n\n  function handleSignOut() {\n    setLoggedIn(false);\n    localStorage.removeItem('jwt');\n  }\n\n\n  return (\n    <>\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header onSignOut={handleSignOut} email={data.email} />\n        <Switch>\n          <ProtectedRoute exact path=\"/\" loggedIn={loggedIn} onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} cards={cards} onCardLike={handleCardLike} onCardDelete={handleCardDelete} component={Main} />\n          <Route path=\"/sign-in\">\n            <Login onLogin={handleLogin} />\n          </Route>\n          <Route path=\"/sign-up\">\n            <Register onRegister={handleRegister} />\n          </Route>\n          <Route>\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n          </Route>\n        </Switch>\n        <Footer />\n        <InfoTooltip title={isInfoTooltipStatus.title} img={isInfoTooltipStatus.img} isOpen={isInfoTooltip} onClose={closeAllPopups} />\n        <EditProfilePopup onUpdateUser={handleUpdateUser} isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} />\n        <AddPlacePopup onAddPlace={handleAddPlaceSubmit} isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} />\n        <EditAvatarPopup onUpdateAvatar={handleUpdateAvatar} isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} />\n        <PopupWithForm name=\"delete-card\" title=\"Вы уверены?\" decoration=\"popup__container-name_style-edition\" text=\"Да\" />\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n      </CurrentUserContext.Provider>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n    <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}